/////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Code to construct jets of particles from TTree file
/////////////////////////////////////////////////////////////////////////////////////////////////////////////

/////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Plugins
/////////////////////////////////////////////////////////////////////////////////////////////////////////////

#include <iostream>
#include "Pythia8/Pythia.h"
#include "TFile.h"
#include "TTree.h"

/////////////////////////////////////////////////////////////////////////////////////////////////////////////
// TTree->FastJet Compatibility
/////////////////////////////////////////////////////////////////////////////////////////////////////////////

int main(){

	// Read output file
	TFile *input = new TFile("out_LEPep209GeV.root", "read");

	// Import tree file
	TTree *tree = (TTree*)input->Get("tree");

	// Branch params
	int id, event, size, no;
	double m, px, py, pz;

	// Define branches
	tree->SetBranchAddress("event", &event);	// event number
	tree->SetBranchAddress("size", &size);		// event size
	tree->SetBranchAddress("no", &no);			// particle no
	tree->SetBranchAddress("id", &id);			// particle id
	tree->SetBranchAddress("m", &m);			// particle mass
	tree->SetBranchAddress("px", &px);			// particle mom-x
	tree->SetBranchAddress("py", &py);			// particle mom-y
	tree->SetBranchAddress("pz", &pz);			// particle mom-z

	// Loop #iteration
	int entries = tree->GetEntries();

	// Read branches
	for (int i = 0; i < entries; i++)
	{
		// Load branch
		tree->GetEntry(i);
		// define particle vector
		fastjet::PseudoJet particle(pt, eta, phi, mass);
		// Storing pdgID
		particle.set_user_index(pdgId);
		// Add particle to vector
		particles.push_back(particle);
	}	

}

/////////////////////////////////////////////////////////////////////////////////////////////////////////////
// FastJet analysis
/////////////////////////////////////////////////////////////////////////////////////////////////////////////